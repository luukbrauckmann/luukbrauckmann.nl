---
import { Button } from "@components";

const menuItems = [
  { label: "Home", icon: "home", link: "/" },
  { label: "Blog", icon: "blog", link: "/blog/" },
];
---

<Button
  as="a"
  class="menu-toggle-button menu-toggle-button--open"
  icon="bars"
  iconOnly
  href="#menu">Menu</Button
>

<Button
  as="a"
  class="menu-toggle-button menu-toggle-button--close"
  icon="bars"
  iconOnly
  href="#">Menu</Button
>

<nav id="menu">
  <ul class="menu-list">
    {
      menuItems.map((menuItem) => (
        <li>
          <a class="link" href={menuItem.link}>
            {menuItem.label}
          </a>
        </li>
      ))
    }
  </ul>
</nav>

<style>
  .menu-toggle-button {
    position: absolute;
    right: 2rem;
    bottom: 2rem;
    z-index: 2;
  }

  @media screen and (min-width: 880px) {
    .menu-toggle-button {
      display: none;
    }
  }

  .menu-toggle-button--open:has(~ #menu:target),
  .menu-toggle-button--close {
    display: none;
  }

  .menu-toggle-button--close:has(~ #menu:target) {
    display: block;
  }

  #menu {
    position: absolute;
    opacity: 0;
    z-index: 1;
    transition:
      right 0.2s ease 30ms,
      bottom 0.2s ease 30ms,
      width 0.2s ease 30ms,
      height 0.2s ease 30ms,
      opacity 0.2s ease;
    background-color: white;
    width: 2.5rem;
    height: 2.5rem;
    overflow: hidden;
  }

  @media screen and (min-width: 880px) {
    #menu {
      position: initial;
      right: unset;
      bottom: unset;
      opacity: 1;
      background-color: transparent;
      width: auto;
      height: auto;
      overflow: visible;
    }
  }

  #menu:target {
    right: 0;
    bottom: 0;
    opacity: 1;
    transition:
      right 0.2s ease,
      bottom 0.2s ease,
      width 0.2s ease,
      height 0.2s ease,
      opacity 0.2s ease 30ms;
    width: 100%;
    height: 100%;
  }

  .menu-list {
    display: flex;
    flex-direction: column;
    margin: 0;
    padding: 0;
    list-style-type: "";
  }

  .link {
    display: block;
    padding: 0.5rem 1rem;
  }

  @media screen and (min-width: 880px) {
    .link {
      margin-inline: -2rem;
      padding: 0.5rem 2rem;
    }
  }
</style>
